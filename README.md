# Reactive File Server
Reactive File Server using [Quarkus](https://quarkus.io/)

Reactive File Server provides REST API for accessing and writing files to the storage. The utilization of asynchronous I/O along
with asynchronous programming provides a robust technological framework to achieve these objectives.

## Architecture
File Server supports two scenarios:
* writing a file by an application
* reading a file by a user

For the sake of simplicity, the File Server does not store any information about either the user or the files themselves. But for accessing or writing the file on the file system we need the path of the file. Where this data come from?

To access a file, the user must provide both the resource ID, a unique identifier for the file, and an authentication token as part of the request. This token is employed to verify the user's identity and permissions via a separate service that manages the Access Control List (ACL). By utilizing the token and resource ID to call this service, all the necessary data for determining the file's path can be retrieved.

In another scenario involving writing a file, an application sends the payload in Base64 format within the request body, along with an API key. This key is employed to authenticate the request and ensure that only authorized users or applications with the necessary privileges can write files to the File Server.

![FileServer](architecture.png)

## How the file path and name are determined?
Every user belongs to an organization, and each organization has its own file directory located within the root folder. When the ACL service is contacted with the token and resource ID parameters, the response retrieved could be in the following format:
```
{
  "userId": "2234521",
  "organization": "sampleOrg",
  "file": "34543534543867856"
}
```
then the full path of the file is  ```ROOT/sampleorg/21/34543534543867856 ```

**Note:** The file name is generated by a separate service and is unique. Additionally, it's important to note that only the final segment of the user ID is used to create a subfolder under the organization.

Whenever a write request is received, the request body includes not only the file content but also the user ID, organization, and file name.
## How to build it
TODO

## How to run it
TODO

